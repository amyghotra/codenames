{"ast":null,"code":"var _jsxFileName = \"/mnt/c/Users/micha/Codenames/codenames/codenames/src/Components/UserInfo/UserInfo.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport { Redirect } from 'react-router-dom';\nimport './UserInfo.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass UserInfo extends Component {\n  constructor() {\n    super();\n\n    this.componentDidMount = () => {\n      //for when the user is joining a room that already exist   \n      this.setState({\n        room_key: this.props.location.state.room_key,\n        roomid: this.props.location.state.roomid\n      }); //set all the existing games to state\n\n      axios.get('http://127.0.0.1:8000/codenames/games').then(res => {\n        this.setState({\n          gamesData: res.data\n        });\n        this.renderGameId(this.props.location.state.roomid);\n      });\n    };\n\n    this.renderGameId = roomid => {\n      let roomidexist = false;\n      axios.get('http://127.0.0.1:8000/codenames/games').then(res => {\n        for (let i = 0; i < res.data.length; i++) {\n          if (res.data[i].connected_room_key === roomid) {\n            roomidexist = true;\n            this.setState({\n              gameid: res.data[i].game_id,\n              gameWords: res.data[i].gameWords\n            });\n            conso;\n            this.renderTeamId(res.data[i].game_id);\n          }\n        }\n\n        if (roomidexist === false) {\n          axios.post('http://127.0.0.1:8000/codenames/games', {\n            connected_room_key: roomid\n          }).then(res => {\n            console.log('this is the game data: ', res.data);\n            this.setState({\n              gameid: res.data.game_id,\n              gameData: res.data,\n              gameWords: res.data.gameWords,\n              connected_room_key: res.data.connected_room_key\n            });\n            console.log('WE JUST MADE THIS GAME ID: ', res.data.game_id);\n            this.renderTeamId(res.data.game_id);\n          });\n        }\n      });\n    };\n\n    this.renderTeamId = gameid => {\n      let redteamidexist = false;\n      let blueteamidexist = false;\n      axios.get('http://127.0.0.1:8000/codenames/redTeam').then(res => {\n        for (let i = 0; i < res.data.length; i++) {\n          if (res.data[i].game_id === gameid) {\n            redteamidexist = true;\n            this.setState({\n              redteamid: res.data[i].red_team_id\n            });\n            console.log(redteamidexist);\n          }\n        }\n      });\n      axios.get('http://127.0.0.1:8000/codenames/blueTeam').then(res => {\n        for (let i = 0; i < res.data.length; i++) {\n          if (res.data[i].game_id === gameid) {\n            blueteamidexist = true;\n            this.setState({\n              blueteamid: res.data[i].blue_team_id\n            });\n            console.log(blueteamidexist);\n          }\n        }\n      });\n    };\n\n    this.handleChange = event => {\n      this.setState({\n        [event.target.name]: event.target.value\n      });\n    };\n\n    this.setRed = () => {\n      this.setState({\n        team: 'R'\n      });\n    };\n\n    this.setBlue = () => {\n      this.setState({\n        team: 'B'\n      });\n    };\n\n    this.submitUserInfo = () => {\n      if (this.state.room_key !== null && this.state.nickname !== null && this.state.team !== null && this.state.task !== null) {\n        axios.post('http://127.0.0.1:8000/codenames/userInfo', {\n          connected_room_key: this.props.location.state.room_key,\n          nickname: this.state.nickname,\n          team: this.state.team,\n          task: this.state.task\n        }).then(response => {\n          this.setState({\n            playerid: response.data.id\n          });\n\n          for (let i = 0; i < this.state.gamesData.length; i++) {\n            if (this.state.gamesData[i].connected_room_key === this.state.roomid || this.state.connected_room_key === this.state.roomid) {\n              console.log('LOOOK HERE STUPID: ', this.state.gameData[i]);\n              this.setState({\n                gameid: this.state.gamesData[i].game_id\n              });\n            }\n          }\n\n          this.createGame();\n        }).catch(error => {\n          console.log(error);\n        });\n      }\n    };\n\n    this.createGame = () => {\n      if (this.state.team === 'R') {\n        axios.post('http://127.0.0.1:8000/codenames/redTeam', {\n          game_id: this.state.gameid,\n          connected_room_key: this.state.roomid\n        }).then(response => {\n          console.log(response);\n        }).catch(error => {\n          console.log(error);\n        });\n      } else if (this.state.team === 'B') {\n        axios.post('http://127.0.0.1:8000/codenames/blueTeam', {\n          game_id: this.state.gameid,\n          connected_room_key: this.state.roomid\n        });\n      }\n\n      this.setState({\n        redirect: true\n      });\n    };\n\n    this.renderRedirect = () => {\n      if (this.state.redirect) {\n        return /*#__PURE__*/_jsxDEV(Redirect, {\n          to: {\n            pathname: '/game',\n            state: {\n              room_key: this.state.room_key,\n              roomid: this.state.roomid,\n              nickname: this.state.nickname,\n              team: this.state.team,\n              task: this.state.task,\n              gameid: this.state.gameid,\n              gameData: this.state.gameData,\n              gameWords: this.state.gameWords,\n              playerid: this.state.playerid\n            }\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 20\n        }, this);\n      }\n    };\n\n    this.setSpy = () => {\n      this.setState({\n        task: 'S'\n      });\n    };\n\n    this.setOper = () => {\n      this.setState({\n        task: 'O'\n      });\n    };\n\n    this.state = {\n      room_key: '',\n      roomid: '',\n      nickname: '',\n      playerid: '',\n      team: '',\n      redteamid: '',\n      blueteamid: '',\n      task: '',\n      redirect: false,\n      gameData: '',\n      gameWords: '',\n      gameid: 0,\n      connected_room_key: ''\n    };\n  }\n\n  render() {\n    // const text = this.state.blue_team ? \"blue team\" : \"red Team\"\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"userInfo\",\n      children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n        className: \"gameCode\",\n        children: [\" Game Code: \", this.state.room_key, \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"box-userInfo-left\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"prompt\",\n            children: \"Enter nickname\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 73\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 78\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"nickname\",\n            value: this.state.nickname,\n            name: \"nickname\",\n            type: \"text\",\n            placeholder: \"Nickname\",\n            spellCheck: \"false\",\n            onChange: this.handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 233,\n            columnNumber: 55\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"prompt\",\n            children: \"Select task\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 70\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"task\",\n            type: \"button\",\n            onClick: this.setSpy,\n            children: \"spymaster\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 235,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 235,\n            columnNumber: 104\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"task\",\n            type: \"button\",\n            onClick: this.setOper,\n            children: \"operator\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 236,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"box-userInfo-right\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"prompt\",\n            children: \"Choose a team\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 240,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 240,\n            columnNumber: 72\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"red\",\n            type: \"button\",\n            onClick: this.setRed\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 92\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"blue\",\n            type: \"button\",\n            onClick: this.setBlue\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 243,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 243,\n            columnNumber: 94\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 21\n        }, this), this.renderRedirect(), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"startBtn\",\n          type: \"button\",\n          onClick: this.submitUserInfo,\n          children: \"Start!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default UserInfo;","map":{"version":3,"sources":["/mnt/c/Users/micha/Codenames/codenames/codenames/src/Components/UserInfo/UserInfo.js"],"names":["React","Component","axios","Redirect","UserInfo","constructor","componentDidMount","setState","room_key","props","location","state","roomid","get","then","res","gamesData","data","renderGameId","roomidexist","i","length","connected_room_key","gameid","game_id","gameWords","conso","renderTeamId","post","console","log","gameData","redteamidexist","blueteamidexist","redteamid","red_team_id","blueteamid","blue_team_id","handleChange","event","target","name","value","setRed","team","setBlue","submitUserInfo","nickname","task","response","playerid","id","createGame","catch","error","redirect","renderRedirect","pathname","setSpy","setOper","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport axios from 'axios'\nimport {Redirect} from 'react-router-dom'\nimport './UserInfo.css'\n\n\nclass UserInfo extends Component {\n    constructor() {\n        super()\n        this.state = {\n            room_key: '',\n            roomid: '',\n            nickname: '',\n            playerid: '',\n            team: '',\n            redteamid: '',\n            blueteamid: '',\n            task: '',\n            redirect: false,\n            gameData: '',\n            gameWords: '',\n            gameid: 0,\n            connected_room_key: '',\n        }\n    }\n\n    componentDidMount = () => {\n        //for when the user is joining a room that already exist   \n        this.setState({\n            room_key: this.props.location.state.room_key,\n            roomid: this.props.location.state.roomid\n        })\n\n        //set all the existing games to state\n        axios.get('http://127.0.0.1:8000/codenames/games').then(res => {\n            this.setState({\n                gamesData: res.data\n            })\n            this.renderGameId(this.props.location.state.roomid)\n        })\n\n    }\n\n    //make the game as long as the roomid exist and if there isnt a game that matches the roomid already\n    renderGameId = (roomid) => {\n\n        let roomidexist = false;\n\n        axios.get('http://127.0.0.1:8000/codenames/games').then(res => {\n            for(let i = 0; i < res.data.length; i++) {\n                if(res.data[i].connected_room_key === roomid) {\n                    roomidexist = true;\n                    this.setState({\n                        gameid: res.data[i].game_id,\n                        gameWords: res.data[i].gameWords\n                    })\n                    conso\n                    this.renderTeamId(res.data[i].game_id)\n                }\n            }\n            if(roomidexist === false) {\n                axios.post('http://127.0.0.1:8000/codenames/games', {\n                    connected_room_key: roomid\n                }).then(res => {\n                    console.log('this is the game data: ', res.data);\n                    this.setState({\n                        gameid: res.data.game_id,\n                        gameData: res.data,\n                        gameWords: res.data.gameWords,\n                        connected_room_key: res.data.connected_room_key\n                    })\n                    console.log('WE JUST MADE THIS GAME ID: ', res.data.game_id);\n                    this.renderTeamId(res.data.game_id)\n                })\n            }\n        })\n\n\n    }\n\n    renderTeamId = (gameid) => {\n        let redteamidexist = false; \n        let blueteamidexist = false;\n\n        axios.get('http://127.0.0.1:8000/codenames/redTeam').then(res => {\n            for(let i = 0; i < res.data.length; i++) {\n                if(res.data[i].game_id === gameid) {\n                    redteamidexist = true;\n                    this.setState({\n                        redteamid: res.data[i].red_team_id\n                    })\n                    console.log(redteamidexist)\n                }\n            }\n        })\n\n        axios.get('http://127.0.0.1:8000/codenames/blueTeam').then(res => {\n            for(let i = 0; i < res.data.length; i++) {\n                if(res.data[i].game_id === gameid) {\n                    blueteamidexist = true;\n                    this.setState({\n                        blueteamid: res.data[i].blue_team_id\n                    })\n                    console.log(blueteamidexist)\n                }\n            }\n        })\n    }\n\n    handleChange = (event) => {\n        this.setState({\n            [event.target.name]: event.target.value\n        })\n    }\n\n    setRed = () => {\n        this.setState({\n            team: 'R'\n        })\n    }\n\n    setBlue = () => {\n        this.setState({\n            team: 'B'\n        })\n    }\n\n   \n    submitUserInfo = () => {        \n        if(this.state.room_key !== null && this.state.nickname !== null && this.state.team !== null && this.state.task !== null) {\n            axios.post('http://127.0.0.1:8000/codenames/userInfo', {\n                connected_room_key:this.props.location.state.room_key,\n                nickname: this.state.nickname, \n                team: this.state.team,\n                task: this.state.task\n            })\n            .then(response => {\n                this.setState({\n                    playerid: response.data.id\n                })\n                for(let i = 0; i < this.state.gamesData.length; i++) {\n                    if (this.state.gamesData[i].connected_room_key === this.state.roomid || this.state.connected_room_key === this.state.roomid) {\n                        console.log('LOOOK HERE STUPID: ', this.state.gameData[i]);\n                        this.setState({\n                            gameid: this.state.gamesData[i].game_id\n                        })\n                       \n                    }\n                }\n                this.createGame()\n            })\n            .catch(error => {\n                console.log(error)\n            })\n        }\n\n\n    }\n\n    createGame = () => {\n        if (this.state.team === 'R') {\n            axios.post('http://127.0.0.1:8000/codenames/redTeam', {\n                game_id: this.state.gameid,\n                connected_room_key: this.state.roomid\n            }).then(response => {\n                console.log(response)\n            })\n            .catch(error => {\n                console.log(error)\n            }) \n        }\n        else if (this.state.team === 'B') {\n            axios.post('http://127.0.0.1:8000/codenames/blueTeam', {\n                game_id: this.state.gameid,\n                connected_room_key: this.state.roomid\n            })\n        }\n\n        this.setState({\n            redirect: true\n        })\n    }\n\n    renderRedirect = () => {\n        if(this.state.redirect){\n            return <Redirect to={{\n                pathname: '/game',\n                state: {\n                    room_key: this.state.room_key,\n                    roomid: this.state.roomid,\n                    nickname: this.state.nickname,\n                    team: this.state.team,\n                    task: this.state.task,\n                    gameid: this.state.gameid,\n                    gameData: this.state.gameData,\n                    gameWords: this.state.gameWords,\n                    playerid: this.state.playerid\n                }\n            }}/>\n        }\n    }\n\n    setSpy = () => {\n        this.setState({\n            task: 'S'\n        })\n    }\n\n    setOper = () => {\n        this.setState({\n            task: 'O'\n        })\n    }\n\n    \n    render() {\n        \n        // const text = this.state.blue_team ? \"blue team\" : \"red Team\"\n        return(\n            <div className=\"userInfo\">\n                <br />\n                <h6 className=\"gameCode\"> Game Code: {this.state.room_key} </h6>\n                <form className=\"container\">\n                    <div className=\"box-userInfo-left\">\n                        <label className=\"prompt\">Enter nickname</label><br/><br/>\n                        <input \n                        className=\"nickname\" \n                        value={this.state.nickname}\n                        name= \"nickname\"\n                        type=\"text\" \n                        placeholder=\"Nickname\" \n                        spellCheck=\"false\" \n                        onChange={this.handleChange}/><br/>\n                        <label className=\"prompt\">Select task</label><br/>\n                        <button className=\"task\" type=\"button\" onClick={this.setSpy}>spymaster</button><br/>\n                        <button className=\"task\" type=\"button\" onClick={this.setOper}>operator</button>\n\n                    </div>\n                    <div className=\"box-userInfo-right\">\n                        <label className=\"prompt\">Choose a team</label><br/>\n                        <input className=\"red\" type=\"button\" onClick={this.setRed}></input><br/>\n                        {/* <p>{text}</p> */}\n                        <input className=\"blue\" type=\"button\" onClick={this.setBlue}></input><br/>\n                        \n                    </div>\n                    {this.renderRedirect()}\n                    <button className=\"startBtn\" type=\"button\" onClick={this.submitUserInfo}>Start!</button>\n\n                </form>\n            </div>\n        )\n    }\n}\n\nexport default UserInfo"]},"metadata":{},"sourceType":"module"}